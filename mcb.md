### **项目需求文档：记忆色块 (PWA 游戏)**

#### **1\. 项目概述**

* **项目名称**: 记忆色块 (Memory Color Blocks)  
* **目标平台**: PWA (Progressive Web App)，优先适配移动端（触屏）  
* **技术栈**: **React**  
* **项目简介**: 一款面向儿童的记忆力训练游戏。玩家在限定时间内记忆网格中不同颜色方块的位置，然后在方块被打乱后，将其拖拽恢复到原位。游戏通过PWA技术实现，支持离线游玩和添加到主屏幕。

#### **2\. 核心功能模块**

1. **主菜单 (Main Menu)**  
   * 提供两个入口按钮：“**难度选择**”和“**挑战模式**”。  
   * 一个“**我的图卡**”入口，用于查看已收集的动物图卡。  
   * 一个“**设置**”按钮（例如齿轮图标）。  
2. **难度选择模式 (Difficulty Mode)**  
   * 提供至少三个固定难度选项：  
     * **初级**: 4格 (2x2)  
     * **中级**: 9格 (3x3)  
     * **高级**: 16格 (4x4)  
   * 选择难度后直接进入游戏界面。  
3. **挑战模式 (Challenge Mode)**  
   * 无尽闯关模式，难度随关卡数自动递增。  
   * **失败条件**: 任意一关未能100%正确摆放，则挑战结束。  
   * 挑战结束后，显示最终成功闯过的关卡数。  
4. **游戏界面 (Game Screen)**  
   * **中央网格区**: 显示颜色方块或空白格。  
   * **右侧素材区**: 放置被打乱的、可拖拽的颜色方块。  
   * **信息显示区**:  
     * 记忆阶段：显示“请记忆”提示和 **观察倒计时**。  
     * 游戏阶段：显示 **挑战计时器** 和当前关卡（仅在挑战模式下）。  
   * **操作**: 支持从素材区 **拖拽 (Drag & Drop)** 颜色方块到中央网格区。  
5. **结果/结算界面 (Result Screen)**  
   * 显示本次游戏的成绩：  
     * **正确方块数** / **总方块数**。  
     * **所用时间**。  
   * 根据成绩，授予一个 **动物头衔** 并解锁对应的 **动物图卡**。  
   * 提供“**重玩**”和“**返回主菜单**”的按钮。  
6. **我的图卡 (Collection Screen)**  
   * 以图册或网格形式，展示所有已收集到的动物图卡。  
   * 未解锁的图卡显示为灰色剪影。  
7. **设置 (Settings)**  
   * 提供开关选项，允许玩家开启/关闭：  
     * **游戏音效 (SFX)**  
     * **背景音乐 (BGM)**  
     * **即时反馈** (放置正确/错误时的视觉提示)

#### **3\. 游戏逻辑与规则**

1. **游戏流程**:  
   * **记忆阶段**: 随机生成颜色布局 \-\> 显示5秒倒计时供玩家记忆。  
   * **游戏阶段**: 清空中央网格 \-\> 将颜色方块打乱并显示在右侧 \-\> 挑战计时开始。  
   * **结束**: 玩家填满所有格子并确认 \-\> 计时结束 \-\> 进入结算界面。  
2. **难度递增规则 (挑战模式)**:  
   * **1-3关**: 4格，2-3色，记忆5秒。  
   * **4-7关**: 9格，3-4色，记忆5秒。  
   * **8-12关**: 9格，4-5色，记忆4秒。  
   * **13关+**: 16格，4-6色，记忆4秒，并有概率在素材区额外加入1个**干扰色**。  
3. **奖励机制 (动物图卡)**:  
   * **解锁条件**: 结合 **难度**、**正确率** 和 **耗时** 进行综合评定。  
     * 例如：在“中级”难度下，15秒内100%正确，可解锁“敏捷小松鼠”图卡。  
   * AI可根据此逻辑自行设计一套完整的评定表。

#### **4\. 技术与组件结构建议 (for AI Coder)**

* **状态管理**: 使用 React Hooks (`useState`, `useReducer`, `useContext`) 进行状态管理。  
* **PWA配置**: 需要生成 `manifest.json` 和 `service-worker.js` 文件，并正确注册。

**5.部署应用方式**  
	**Docker compose方式部署在vps运行。**